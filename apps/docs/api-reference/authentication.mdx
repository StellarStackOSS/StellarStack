---
title: 'Authentication'
description: 'API authentication and authorization'
icon: 'lock'
---

# Authentication

Secure your API requests with proper authentication.

## API Keys

The recommended way to authenticate with the StellarStack API is using API keys.

### Creating an API Key

1. Log in to the web panel
2. Navigate to **Account Settings** → **API Keys**
3. Click **Create API Key**
4. Give it a descriptive name
5. Copy the generated token (shown only once)

### Using API Keys

Include the token in the `Authorization` header:

```bash
curl -H "Authorization: Bearer YOUR_API_KEY" \
  https://your-panel.com/api/servers
```

```typescript
const response = await fetch('https://your-panel.com/api/servers', {
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY'
  }
});
```

### API Key Permissions

API keys inherit the permissions of the user who created them.

- **Full Access**: Use your own API key
- **Limited Access**: Request a key with specific permissions (feature TBD)

### Revoking API Keys

To revoke an API key:

1. Go to **Account Settings** → **API Keys**
2. Click **Revoke** on the key to disable
3. Revoked keys can be deleted after 30 days

## Session Authentication

For web applications, session-based authentication is available:

```bash
POST /api/auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "password"
}
```

Response:
```json
{
  "data": {
    "token": "session_token",
    "user": {
      "id": "usr_123",
      "email": "user@example.com"
    }
  }
}
```

Include the token in subsequent requests:

```bash
Authorization: Bearer session_token
```

## OAuth 2.0

OAuth authentication is supported for third-party integrations.

Supported providers:
- Google
- GitHub
- Discord

### OAuth Flow

1. User clicks "Sign in with [Provider]"
2. Redirected to provider's authentication page
3. User grants permission
4. Redirected back to StellarStack with auth code
5. Receive session token

## Permissions

StellarStack uses granular permissions for access control.

### Permission Nodes

Available permission nodes:

- `servers.view` - View servers
- `servers.create` - Create servers
- `servers.edit` - Edit servers
- `servers.delete` - Delete servers
- `servers.start` - Start servers
- `servers.stop` - Stop servers
- `files.view` - View server files
- `files.edit` - Edit server files
- `files.delete` - Delete server files
- `backups.view` - View backups
- `backups.create` - Create backups
- `backups.delete` - Delete backups
- `backups.restore` - Restore backups
- `users.manage` - Manage users (admin only)
- `admin.access` - Access admin panel (admin only)

### Checking Permissions

Permissions are automatically checked for each API request.

Unauthorized requests return a 403 Forbidden response:

```json
{
  "error": {
    "code": "FORBIDDEN",
    "message": "You do not have permission to perform this action"
  }
}
```

## Security Best Practices

1. **Keep tokens secret**: Never commit API keys to version control
2. **Use HTTPS**: Always use HTTPS in production
3. **Rotate keys regularly**: Periodically create new API keys and revoke old ones
4. **Limit scope**: Use permissions to limit what each key can do
5. **Monitor usage**: Check your API key usage regularly
6. **Use environment variables**: Store keys in .env files

### Environment Variables

```bash
# .env
STELLARSTACK_API_KEY=your_api_key_here
STELLARSTACK_API_URL=https://your-panel.com
```

```typescript
const apiKey = process.env.STELLARSTACK_API_KEY;
const apiUrl = process.env.STELLARSTACK_API_URL;
```

## Error Responses

Authentication errors return specific status codes:

| Code | Meaning |
|------|---------|
| `401` | Unauthorized - Missing or invalid credentials |
| `403` | Forbidden - Valid credentials but no permission |
| `405` | Method Not Allowed - Wrong HTTP method |

### 401 Unauthorized

```json
{
  "error": {
    "code": "UNAUTHORIZED",
    "message": "Missing or invalid API key"
  }
}
```

### 403 Forbidden

```json
{
  "error": {
    "code": "FORBIDDEN",
    "message": "Insufficient permissions for this action"
  }
}
```

## Next Steps

<CardGroup cols={2}>
  <Card title="API Introduction" icon="code" href="/api-reference/introduction">
    Back to API overview
  </Card>
  <Card title="Servers" icon="server" href="/api-reference/servers">
    Server API endpoints
  </Card>
</CardGroup>
